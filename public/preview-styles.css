/* ============================================
   PREVIEW PAGE V2 â€” Cutting-Edge Design Demos
   ============================================ */

/* --- Layout --- */
.preview-section {
  margin-bottom: 5rem;
  padding-bottom: 4rem;
  border-bottom: 1px solid var(--color-tech-border);
}
.preview-section:last-of-type {
  border-bottom: none;
}

.preview-label {
  font-family: var(--font-mono);
  font-size: 0.6875rem;
  color: var(--color-accent);
  text-transform: uppercase;
  letter-spacing: 0.15em;
  margin-bottom: 0.5rem;
  opacity: 0.7;
}

.preview-title {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-tech-text);
  margin-bottom: 0.5rem;
}

.preview-desc {
  color: var(--color-tech-text-muted);
  font-size: 0.9375rem;
  margin-bottom: 2rem;
  max-width: 640px;
  line-height: 1.6;
}

/* ============================================
   1. SHADER MOUNTAIN SKYLINE
   ============================================ */
.shader-mountain {
  position: relative;
  width: 100%;
  height: 220px;
  border-radius: 0.75rem;
  overflow: hidden;
  border: 1px solid var(--color-tech-border);
}
.shader-mountain canvas {
  width: 100%;
  height: 100%;
  display: block;
}
.shader-mountain-overlay {
  position: absolute;
  bottom: 1rem;
  left: 1.5rem;
  font-family: var(--font-mono);
  font-size: 0.6875rem;
  color: rgba(255,255,255,0.5);
  pointer-events: none;
}

/* ============================================
   2. GIT LOG TIMELINE
   ============================================ */
.git-log {
  font-family: var(--font-mono);
  font-size: 0.8125rem;
  line-height: 1.8;
  color: var(--color-tech-text-muted);
  overflow-x: auto;
}
.git-log a {
  text-decoration: none;
  transition: color 0.15s ease;
}
.git-log a:hover {
  color: var(--color-accent);
}
.git-log .gl-graph {
  color: #ff6b6b;
  user-select: none;
}
.git-log .gl-hash {
  color: #faef5d;
}
.git-log .gl-msg {
  color: var(--color-tech-text);
}
.git-log .gl-tag {
  color: #51cf66;
  font-weight: 600;
}
.git-log .gl-date {
  color: var(--color-tech-text-muted);
  font-size: 0.75rem;
}
.git-log .gl-branch-devops { color: #22d3ee; }
.git-log .gl-branch-trek { color: #d97706; }
.git-log .gl-branch-postgres { color: #51cf66; }
.git-log .gl-branch-programming { color: #cc5de8; }

/* ============================================
   3. GENERATIVE CAIRNS
   ============================================ */
.cairn-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 1.5rem;
}
.cairn-card {
  text-align: center;
  padding: 1.5rem 1rem;
  border-radius: 0.5rem;
  border: 1px solid var(--color-tech-border);
  background: var(--color-tech-surface);
  transition: border-color 0.2s ease, transform 0.2s ease;
}
.cairn-card:hover {
  border-color: var(--color-accent);
  transform: translateY(-2px);
}
.cairn-card svg {
  margin: 0 auto 1rem;
  display: block;
}
.cairn-card-title {
  font-family: var(--font-mono);
  font-size: 0.75rem;
  color: var(--color-tech-text);
  margin-bottom: 0.25rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.cairn-card-tag {
  font-family: var(--font-mono);
  font-size: 0.625rem;
  color: var(--color-tech-text-muted);
}

/* ============================================
   4. TOPOGRAPHIC CONTOUR SECTION DIVIDERS
   ============================================ */
.topo-divider {
  position: relative;
  height: 120px;
  overflow: hidden;
  margin: 2rem 0;
}
.topo-divider svg {
  width: 100%;
  height: 100%;
}
.topo-line {
  fill: none;
  stroke-width: 1;
  opacity: 0.5;
}
.topo-line-1 { stroke: var(--color-accent); opacity: 0.15; }
.topo-line-2 { stroke: var(--color-accent); opacity: 0.25; }
.topo-line-3 { stroke: var(--color-accent); opacity: 0.35; }
.topo-line-4 { stroke: var(--color-accent); opacity: 0.45; }
.topo-line-5 { stroke: var(--color-accent); opacity: 0.6; }
.topo-label {
  font-family: var(--font-mono);
  font-size: 0.5rem;
  fill: var(--color-accent);
  opacity: 0.4;
}

/* ============================================
   5. ELEVATION PROFILE SCROLL TRACKER
   ============================================ */
.elevation-tracker {
  position: relative;
  height: 80px;
  border-radius: 0.5rem;
  border: 1px solid var(--color-tech-border);
  background: var(--color-tech-surface);
  overflow: hidden;
}
.elevation-tracker svg {
  width: 100%;
  height: 100%;
}
.elevation-fill {
  fill: rgba(217, 119, 6, 0.15);
}
.elevation-line {
  fill: none;
  stroke: var(--color-trek-accent);
  stroke-width: 2;
}
.elevation-marker {
  fill: var(--color-trek-accent);
  transition: cx 0.1s linear, cy 0.1s linear;
}
.elevation-waypoint {
  font-family: var(--font-mono);
  font-size: 0.5rem;
  fill: var(--color-trek-accent);
  opacity: 0.7;
}
.elevation-altitude {
  position: absolute;
  top: 0.5rem;
  right: 0.75rem;
  font-family: var(--font-mono);
  font-size: 0.6875rem;
  color: var(--color-trek-accent);
}

/* ============================================
   6. FLOW FIELD PARTICLES
   ============================================ */
.flow-field-demo {
  position: relative;
  height: 300px;
  border-radius: 0.75rem;
  overflow: hidden;
  border: 1px solid var(--color-tech-border);
}
.flow-field-demo canvas {
  width: 100%;
  height: 100%;
  display: block;
}
.flow-field-label {
  position: absolute;
  bottom: 0.75rem;
  left: 1rem;
  font-family: var(--font-mono);
  font-size: 0.625rem;
  color: rgba(255,255,255,0.4);
  pointer-events: none;
}
.flow-field-toggle {
  position: absolute;
  top: 0.75rem;
  right: 0.75rem;
  font-family: var(--font-mono);
  font-size: 0.6875rem;
  padding: 0.25rem 0.75rem;
  border: 1px solid rgba(255,255,255,0.2);
  border-radius: 0.25rem;
  background: rgba(0,0,0,0.4);
  color: rgba(255,255,255,0.6);
  cursor: pointer;
  transition: border-color 0.2s, color 0.2s;
  z-index: 2;
}
.flow-field-toggle:hover {
  border-color: var(--color-accent);
  color: var(--color-accent);
}

/* ============================================
   7. ALTITUDE TERMINAL
   ============================================ */
.altitude-terminal {
  background: #0a0e14;
  border: 1px solid #1e293b;
  border-radius: 0.5rem;
  overflow: hidden;
  font-family: var(--font-mono);
  font-size: 0.8125rem;
}
.altitude-terminal-bar {
  background: #1e293b;
  padding: 0.5rem 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}
.altitude-terminal-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
}
.altitude-terminal-dot-r { background: #ff5f56; }
.altitude-terminal-dot-y { background: #ffbd2e; }
.altitude-terminal-dot-g { background: #27c93f; }
.altitude-terminal-title {
  color: #94a3b8;
  font-size: 0.6875rem;
  margin-left: 0.5rem;
}
.altitude-terminal-body {
  padding: 1rem;
  max-height: 320px;
  overflow-y: auto;
  line-height: 1.7;
  color: #e2e8f0;
}
.altitude-terminal-body::-webkit-scrollbar { width: 6px; }
.altitude-terminal-body::-webkit-scrollbar-track { background: #0a0e14; }
.altitude-terminal-body::-webkit-scrollbar-thumb { background: #334155; border-radius: 3px; }

.term-prompt { color: #22d3ee; }
.term-path { color: #51cf66; }
.term-output { color: #94a3b8; }
.term-error { color: #ff6b6b; }
.term-highlight { color: #faef5d; }
.term-trek { color: #d97706; }

.term-input-line {
  display: flex;
  align-items: center;
  gap: 0;
}
.term-input {
  background: transparent;
  border: none;
  outline: none;
  color: #e2e8f0;
  font-family: var(--font-mono);
  font-size: 0.8125rem;
  flex: 1;
  caret-color: #22d3ee;
}

/* ============================================
   8. SIGNAL FLAG NAV MICRO-INTERACTIONS
   ============================================ */
.signal-nav {
  display: flex;
  gap: 2rem;
  padding: 1rem 0;
  flex-wrap: wrap;
}
.signal-nav-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-family: var(--font-mono);
  font-size: 0.875rem;
  color: var(--color-tech-text);
  text-decoration: none;
  padding: 0.5rem 0;
  position: relative;
}
.signal-icon {
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

/* Blinking LED for DevOps */
.led {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: #22d3ee;
  animation: led-blink 2s ease infinite;
}
@keyframes led-blink {
  0%, 100% { opacity: 1; box-shadow: 0 0 4px #22d3ee; }
  50% { opacity: 0.3; box-shadow: none; }
}

/* Prayer flags for Treks */
.prayer-flags {
  display: flex;
  gap: 1px;
  align-items: flex-start;
}
.prayer-flag {
  width: 4px;
  height: 10px;
  transform-origin: top center;
  animation: flag-wave 1.5s ease-in-out infinite;
}
.prayer-flag:nth-child(1) { background: #3b82f6; animation-delay: 0s; }
.prayer-flag:nth-child(2) { background: #ffffff; animation-delay: 0.15s; }
.prayer-flag:nth-child(3) { background: #ef4444; animation-delay: 0.3s; }
.prayer-flag:nth-child(4) { background: #22c55e; animation-delay: 0.45s; }
.prayer-flag:nth-child(5) { background: #eab308; animation-delay: 0.6s; }
@keyframes flag-wave {
  0%, 100% { transform: skewX(0deg); }
  25% { transform: skewX(8deg); }
  75% { transform: skewX(-5deg); }
}

/* Spinning elephant for Postgres */
.pg-elephant {
  font-size: 14px;
  line-height: 1;
  display: inline-block;
  animation: elephant-sway 3s ease-in-out infinite;
}
@keyframes elephant-sway {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(5deg); }
  75% { transform: rotate(-5deg); }
}

/* Radio pulse for Contact */
.radio-pulse {
  position: relative;
  width: 8px;
  height: 8px;
}
.radio-pulse::before,
.radio-pulse::after {
  content: '';
  position: absolute;
  inset: 0;
  border: 1px solid #22d3ee;
  border-radius: 50%;
  animation: radio-wave 2s ease-out infinite;
}
.radio-pulse::after {
  animation-delay: 0.6s;
}
.radio-pulse-center {
  position: absolute;
  width: 4px;
  height: 4px;
  background: #22d3ee;
  border-radius: 50%;
  top: 2px;
  left: 2px;
}
@keyframes radio-wave {
  0% { transform: scale(1); opacity: 0.8; }
  100% { transform: scale(3); opacity: 0; }
}

/* Code brackets for Programming */
.code-brackets {
  font-family: var(--font-mono);
  font-size: 12px;
  font-weight: 700;
  color: #cc5de8;
  animation: bracket-pulse 2s ease infinite;
}
@keyframes bracket-pulse {
  0%, 100% { opacity: 1; letter-spacing: 0px; }
  50% { opacity: 0.6; letter-spacing: 2px; }
}

/* ============================================
   9. INFRASTRUCTURE AS LANDSCAPE
   ============================================ */
.infra-landscape {
  position: relative;
  border-radius: 0.75rem;
  border: 1px solid var(--color-tech-border);
  overflow: hidden;
  background: linear-gradient(180deg, #0f172a 0%, #1e293b 100%);
}
.infra-landscape svg {
  width: 100%;
  height: auto;
  display: block;
}
.infra-label {
  font-family: var(--font-mono);
  font-size: 8px;
  fill: rgba(255,255,255,0.6);
}
.infra-label-tech {
  font-family: var(--font-mono);
  font-size: 7px;
  fill: var(--color-accent);
  opacity: 0.7;
}
.infra-tent {
  transition: filter 0.2s ease;
  cursor: pointer;
}
.infra-tent:hover {
  filter: drop-shadow(0 0 6px rgba(34, 211, 238, 0.6));
}
.infra-trail {
  stroke-dasharray: 4 3;
  animation: trail-march 1s linear infinite;
}
@keyframes trail-march {
  to { stroke-dashoffset: -7; }
}

/* ============================================
   10. SCROLL-DRIVEN WEATHER ATMOSPHERE
   ============================================ */
.weather-demo {
  position: relative;
  height: 400px;
  border-radius: 0.75rem;
  overflow: hidden;
  border: 1px solid var(--color-tech-border);
  background: linear-gradient(180deg, #1a1a2e 0%, #16213e 40%, #0f3460 70%, #1a1a2e 100%);
}
.weather-content {
  position: relative;
  z-index: 2;
  height: 100%;
  overflow-y: auto;
  padding: 2rem;
  color: var(--color-tech-text);
  font-size: 0.875rem;
  line-height: 1.8;
  scroll-behavior: smooth;
}
.weather-content::-webkit-scrollbar { width: 4px; }
.weather-content::-webkit-scrollbar-track { background: transparent; }
.weather-content::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 2px; }

.weather-fog {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 1;
  opacity: 0;
  transition: opacity 0.3s ease;
  background: linear-gradient(
    180deg,
    transparent 0%,
    rgba(255,255,255,0.03) 30%,
    rgba(255,255,255,0.08) 60%,
    rgba(255,255,255,0.15) 100%
  );
}
.weather-snow {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 3;
  opacity: 0;
  transition: opacity 0.5s ease;
}
.snowflake {
  position: absolute;
  color: white;
  font-size: 0.5rem;
  opacity: 0.6;
  animation: snowfall linear infinite;
}
@keyframes snowfall {
  0% { transform: translateY(-10px) translateX(0); opacity: 0; }
  10% { opacity: 0.6; }
  90% { opacity: 0.6; }
  100% { transform: translateY(400px) translateX(20px); opacity: 0; }
}
.weather-altitude-badge {
  position: absolute;
  top: 0.75rem;
  right: 0.75rem;
  font-family: var(--font-mono);
  font-size: 0.625rem;
  color: rgba(255,255,255,0.4);
  z-index: 4;
  pointer-events: none;
}
